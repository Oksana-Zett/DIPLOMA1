
# План автоматизации тестирования сценария покупки тура #

## 1. Перечень автоматизируемых сценариев ##

1.1. Тест-сьют: функциональность кнопок "Купить", "Купить в кредит" на главной странице приложения (предусловие для всех тест-кейсов из данного тест-сьюта: приложение [aqa-shop.jar](https://github.com/Oksana-Zett/DIPLOMA1/blob/master/artifacts/aqa-shop.jar) запущено)

Тест-кейсы:

Функциональность кнопки "Купить":
1. кликнуть на кнопку "Купить"  
Ожидаемый результат: открывается форма "Оплата по карте"

Функциональность кнопки "Купить в кредит":
1. кликнуть на кнопку "Купить в кредит"  
Ожидаемый результат: открывается форма "Кредит по данным карты"

### Сценарии тестирования оплаты по дебетовой карте ###

1.2. Тест-сьют: Заполнение формы "Оплата по карте" (предусловие для всех тест-кейсов из данного тест-сьюта:   
а) приложение [aqa-shop.jar](https://github.com/Oksana-Zett/DIPLOMA1/blob/master/artifacts/aqa-shop.jar) запущено;  
б) валидными данными для полей формы "Оплата по карте" считаются:
- для поля "Номер карты": можно ввести только 16 арабских цифр-4444 4444 4444 4441 (статус карты "APPROVED");
- для поля "Месяц": можно ввести только 2 арабские цифры в пределах от 01 до 12;
- для поля "Год": можно ввести только 2 арабские цифры (две последние цифры года действия карты), указанный год не может быть ранее текущего (в таком случае карта является просроченной) и должен быть в пределах пяти лет от текущей даты;
- для поля "Владелец": можно ввести только буквы на латинице в формате "Имя Фамилия" через пробел, регистр значения не имеет, вводить нужно не менее 1-й буквы, ограничений на максимальное кол-во букв нет;  
- для поля "CVC/CVV": можно ввести только 3 арабские цифры;  
в) если в поле "Год" указан текущий год, то в поле "Месяц" можно ввести только месяцы, следующие за текущим;  
г) для успешной оплаты тура карта должна иметь статус "APPROVED", по карте со статусом "DECLINED" оплатить тур невозможно)

Тест-кейсы:

Отправка пустой формы "Оплата по карте"
1. кликнуть на кнопку "Купить"   
Ожидаемый результат: открывается форма "Оплата по карте"  
2. ничего не заполняя кликнуть на кнопку "Продолжить"      
Ожидаемый результат: под каждым полем появляется сообщение "Поле обязательно для заполнения"
3. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось

Отправка заполненной формы валидными данными:
1. кликнуть на кнопку "Купить"   
Ожидаемый результат: открывается форма "Оплата по карте"  
2.  ввести в поле "Номер карты" валидные данные
Ожидаемый результат: поле заполнено введенными данными 
3.  ввести в поле "Месяц" валидные данные
Ожидаемый результат: поле заполнено введенными данными 
4.  ввести в поле "Год" валидные данные
Ожидаемый результат: поле заполнено введенными данными 
5.  ввести в поле "Владелец" валидные данные
Ожидаемый результат: поле заполнено введенными данными 
6.  ввести в поле "CVC/CVV" валидные данные
Ожидаемый результат: поле заполнено введенными данными 
7. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции 
8. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности

Ввод допустимых значений в поле "Номер карты" (предусловие: поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнены валидными данными):
1. кликнуть на кнопку "Купить"   
Ожидаемый результат: открывается форма "Оплата по карте"  
2. ввести в поле "Номер карты" цифры "4444 4444 4444 4441"  
Ожидаемый результат: поле заполнено введенными данными  
3. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции  
4. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности
5. ввести в поле "Номер карты" цифры "4444 4444 4444 4442"  
Ожидаемый результат: поле заполнено введенными данными  
6. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение о невозможности выполнения операции "Ошибка! Банк отказал в проведении операции"   
7. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности
8. ввести в поле "Номер карты" буквы на кириллице, например, "абв"
Ожидаемый результат: невозможно ввести данные
9. ввести в поле "Номер карты" буквы на латинице, например, "ghbmd"
Ожидаемый результат: невозможно ввести данные
10. ввести в поле "Номер карты" цифры с несуществующими данными, например, "0000 0000 0000 0000"  
Ожидаемый результат: поле заполнено введенными данными  
11. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение о невозможности выполнения операции "Ошибка! Банк отказал в проведении операции" 
12. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности
13. ввести в поле "Номер карты" специальные символы, например, "$%@#"
Ожидаемый результат: невозможно ввести данные

Ввод допустимых значений в поле "Месяц" (предусловие: поля "Номер карты", "Год", "Владелец", "CVC/CVV" заполнены валидными данными):
1. кликнуть на кнопку "Купить"   
Ожидаемый результат: открывается форма "Оплата по карте"  
2. ввести в поле "Месяц" любые цифры в пределе от 01 до 12, например, "10"  
Ожидаемый результат: поле заполнено введенными данными  
3. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции  
4. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности
5. ввести в поле "Месяц" любые цифры не входящие в предел от 01 до 12, например, "00"  
Ожидаемый результат: поле заполнено введенными данными  
6. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение "Неверно указан срок действия карты" 
7. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось 
8. ввести в поле "Месяц" любые цифры не входящие в предел от 01 до 12, например, "13"  
Ожидаемый результат: поле заполнено введенными данными  
9. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение "Неверно указан срок действия карты" 
10. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось   
11. ввести в поле "Месяц" буквы на кириллице, например, "аб"  
Ожидаемый результат: невозможно ввести данные
12. ввести в поле "Месяц" буквы на латинице, например, "gh"  
Ожидаемый результат: невозможно ввести данные
13. ввести в поле "Месяц" специальные символы, например, "@#"  
Ожидаемый результат: невозможно ввести данные
14. ввести в поле "Год" текущий год   
Ожидаемый результат: поле заполнено введенными данными  
15. ввести в поле "Месяц" цифры соответствующие прошедшему любому месяцу в текущем году  
Ожидаемый результат: поле заполнено введенными данными  
16. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение "Неверно указан срок действия карты"
17. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось 

Ввод допустимых значений в поле "Год" (предусловие: поля "Номер карты", "Месяц", "Владелец", "CVC/CVV" заполнены валидными данными):
1. кликнуть на кнопку "Купить"   
Ожидаемый результат: открывается форма "Оплата по карте"  
2. ввести в поле "Год" цифры соответствующие будущему любому году в пределе пяти лет от текущего года 
Ожидаемый результат: поле заполнено введенными данными  
3. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции 
4. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности  
5. ввести в поле "Год" цифры соответствующие будущему любому году выше предела пяти лет от текущего года 
Ожидаемый результат: поле заполнено введенными данными  
6. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение "Неверно указан срок действия карты"
7. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось 
8. ввести в поле "Год" цифры соответствующие прошедшему любому году, например, "20"  
Ожидаемый результат: поле заполнено введенными данными  
9. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение "Истёк срок действия карты" 
10. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось  
11. ввести в поле "Год" буквы на кириллице, например, "аб"  
Ожидаемый результат: невозможно ввести данные
12. ввести в поле "Год" буквы на латинице, например, "gh"  
Ожидаемый результат: невозможно ввести данные
13. ввести в поле "Год" специальные символы, например, "@#"  
Ожидаемый результат: невозможно ввести данные

Ввод допустимых значений в поле "Владелец" (предусловие: поля "Номер карты", "Месяц", "Год", "CVC/CVV" заполнены валидными данными):
1. кликнуть на кнопку "Купить"   
Ожидаемый результат: открывается форма "Оплата по карте"  
2. ввести в поле "Владелец" имя и фамилию буквами на латинице через пробел в верхнем регистре, например, "OLEG IVANOV"  
Ожидаемый результат: поле заполнено введенными данными  
3. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции 
4. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности  
5. ввести в поле "Владелец" имя и фамилию буквами на латинице через пробел в нижнем регистре, например, "oleg ivanov"  
Ожидаемый результат: поле заполнено введенными данными  
6. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции 
7. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности
8. ввести в поле "Владелец" имя и фамилию буквами на кириллице через пробел, например, "Олег Иванов"   
Ожидаемый результат: поле заполнено введенными данными  
9. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение о некорректном вводе данных 
10. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось  
11. ввести в поле "Владелец" арабские цифры, например, "123"  
Ожидаемый результат: невозможно ввести данные
12. ввести в поле "Владелец" только имя буквами на латинице, например, "Oleg"  
Ожидаемый результат: поле заполнено введенными данными
13. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение о некорректном вводе данных 
14. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось 
15. ввести в поле "Владелец" только фамилию буквами на латинице, например, "Ivanov"  
Ожидаемый результат: поле заполнено введенными данными
16. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение о некорректном вводе данных 
17. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось 
18. ввести в поле "Владелец" специальные символы, например, "@#"  
Ожидаемый результат: невозможно ввести данные

Ввод допустимых значений в поле "CVC/CVV" (предусловие: поля "Номер карты", "Год", "Владелец", "Месяц" заполнены валидными данными):
1. кликнуть на кнопку "Купить"   
Ожидаемый результат: открывается форма "Оплата по карте"  
2. ввести в поле "CVC/CVV" цифры  
Ожидаемый результат: поле заполнено введенными данными  
3. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции
4. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности       
5. ввести в поле "CVC/CVV" буквы на кириллице, например, "абв"  
Ожидаемый результат: невозможно ввести данные
6. ввести в поле "CVC/CVV" буквы на латинице, например, "ghl"  
Ожидаемый результат: невозможно ввести данные
7. ввести в поле "CVC/CVV" специальные символы, например, "@#%"  
Ожидаемый результат: невозможно ввести данные

Ввод граничных значений в поле "Номер карты" (предусловие: поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнены валидными данными):
1. кликнуть на кнопку "Купить"   
Ожидаемый результат: открывается форма "Оплата по карте"  
2. ввести в поле "Номер карты" 16 валидных цифр "4444 4444 4444 4441"  
Ожидаемый результат: поле заполнено введенными данными  
3. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции 
4. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности  
5. ввести в поле "Номер карты" одну цифру     
Ожидаемый результат: поле заполнено введенными данными  
6. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение о некорректном вводе данных 
7. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось  
8. ввести в поле "Номер карты" две цифры  
Ожидаемый результат: появляется сообщение о некорректном вводе данных
9. ввести в поле "Номер карты" 15 цифр  
Ожидаемый результат: появляется сообщение о некорректном вводе данных
10. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение о некорректном вводе данных
11. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось 
12. ввести в поле "Номер карты" 17 цифр  
Ожидаемый результат: невозможно ввести более 16-ти цифр 

Ввод граничных значений в поле "Месяц" (предусловие: поля "Номер карты", "Год", "Владелец", "CVC/CVV" заполнены валидными данными):
1. кликнуть на кнопку "Купить"   
Ожидаемый результат: открывается форма "Оплата по карте"  
2. ввести в поле "Месяц" 2 валидных цифры, например, "10"  
Ожидаемый результат: поле заполнено введенными данными  
3. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции
4. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности   
5. ввести в поле "Месяц" одну цифру     
Ожидаемый результат: поле заполнено введенными данными  
6. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение о некорректном вводе данных  
7. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось
8. ввести в поле "Месяц" три цифры  
Ожидаемый результат: невозможно ввести более 2-х цифр

Ввод граничных значений в поле "Год" (предусловие: поля "Номер карты", "Месяц", "Владелец", "CVC/CVV" заполнены валидными данными):
1. кликнуть на кнопку "Купить"   
Ожидаемый результат: открывается форма "Оплата по карте"  
2. ввести в поле "Год" 2 валидных цифры, например, "24"  
Ожидаемый результат: поле заполнено введенными данными  
3. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции 
4. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности
5. ввести в поле "Год" одну цифру     
Ожидаемый результат: поле заполнено введенными данными  
6. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение о некорректном вводе данных
7. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось
8. ввести в поле "Год" три цифры  
Ожидаемый результат: невозможно ввести более 2-х цифр

Ввод граничных значений в поле "Владелец" (предусловие: поля "Номер карты", "Месяц", "Год", "CVC/CVV" заполнены валидными данными):
1. кликнуть на кнопку "Купить"   
Ожидаемый результат: открывается форма "Оплата по карте"  
2. ввести в поле "Владелец" одну букву  
Ожидаемый результат: поле заполнено введенными данными  
3. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции
4. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности
5. ввести в поле "Владелец" две буквы    
Ожидаемый результат: поле заполнено введенными данными  
6. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции 
7. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности   
8. ввести в поле "Владелец" более трёхста букв  
Ожидаемый результат: поле заполнено введенными данными
9. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции
10. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности

Ввод граничных значений в поле "CVC/CVV" (предусловие: поля "Номер карты", "Месяц", "Владелец", "Год" заполнены валидными данными):
1. кликнуть на кнопку "Купить"   
Ожидаемый результат: открывается форма "Оплата по карте"  
2. ввести в поле "CVC/CVV" 3 валидных цифры  
Ожидаемый результат: поле заполнено введенными данными  
3. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение об успешности операции   
4. сделать запрос в БД, чтобы убедиться в правильности сохранения информации по способу совершения платежа и его успешности/не успешности
5. ввести в поле "CVC/CVV" одну цифру     
Ожидаемый результат: поле заполнено введенными данными  
6. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение о некорректном вводе данных  
7. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось
8. ввести в поле "CVC/CVV" две цифры  
Ожидаемый результат: поле заполнено введенными данными 
9. кликнуть на кнопку "Продолжить"  
Ожидаемый результат: появляется сообщение о некорректном вводе данных  
10. сделать запрос в БД, чтобы убедиться, что ничего в ней не сохранилось
11. ввести в поле "CVC/CVV" четыре цифры  
Ожидаемый результат: невозможно ввести более 3-х цифр


### Сценарии тестирования оплаты в кредит по данным банковской карты ###

*Примечание:*  
*Тест-кейсы идентичны тест-кейсам для оплаты по дебетовой карте, КРОМЕ шага 1, его нужно заменить на:*  
*1. кликнуть на кнопку "Купить в кредит"   
Ожидаемый результат: открывается форма "Кредит по данным карты"*

## 2. Перечень используемых инструментов с обоснованием выбора ##

1. Язык программирования Java - один из самых востребованных языков на рынке в сфере автоматизации тестирования, обладающий рядом преимуществ:
* простота/логичность синтаксиса;
* использование принципов ООП (абстракция, инкапсуляция, наследование, полиморфизм);
* безопасность;
* производительность;
* надежность;
* независимость от аппаратной части и ОС
2. IntelliJ IDEA - одна из самых распространенных и мне хорошо известных сред разработки ПО на Java, в том числе для автоматизированных тестов
3. Git - инструмент для реализации распределенной системы контроля версий
4. GitHub - крупнейший веб-сервис для хранения и синхронизации кода, главной целью которого является поддержка совместной разработки проектов
5. Chrome - DeveloperTools (вкладка Elements) - для просмотра и выбора селекторов, и написания автотестов с их применением
6. Gradle - система автоматической сборки проектов на основе описания их структуры
7. Lombok - библиотека для сокращения кода в классах и расширения функциональности языка Java
8. Selenide - фреймворк, упрощающий написание автотестов для работы с веб-страницами
9. JUnit5 - фреймворк для модульного тестирования ПО на языке Java
10. Faker - библиотека для генерации данных для автотестов
11. СУБД MySQL и PostgreSQL - системы управления базами данных, поддержка заявлена в приложении
12. Docker/Docker Toolbox - программное обеспечение для автоматизации развёртывания и управления приложениями в средах с поддержкой контейнеризации, обладающий рядом преимуществ:
* удобная система поставки преднастроенных контейнеров;
* открытая инфраструктура распространения контейнеров;
13. Allure - фреймворк, предназначенный для создания визуально наиболее наглядной и понятной картины выполнения тестов


## 3. Перечень и описание возможных рисков при автоматизации ##

1. Сложности с поиском локаторов
1. Изменение структуры тестируемых страниц
1. Частые изменения требований к проекту
1. Сжатые сроки для проведения автоматизированного тестирования, ввиду чего тестировщик может упустить важные моменты или допустить ошибки в коде из-за спешки
1. Неоднозначность требований, их противоречивость, непонятность, что может привести к некорректному тестированию и, как следствие, пустой трате времени и денег на процесс автоматизации
1. Отсутствие разрешения на применение инструментов для автоматизации, что может сильно увеличить сроки проведения тестирования
1. Сложность/масштаб проекта (если требуется написание большого количества тестов, их сложнее поддерживать и модифицировать)
1. Отсутствие опыта/знаний/навыков/квалификации у специалиста для написания автотестов и/или настройки и поддержки СУБД, и/или запуска контейнеров и приложения
1. Управление тестовыми данными (отсутствие тестовых данных и/или невозможность генерировать случайный набор тестовых данных)
1. Сложность алгоритмизации специфических/не типичных тестовых сценариев


## 4. Интервальная оценка с учётом рисков (в часах) ##

* без учета рисков, включая настройку окружения, написание авто-тестов и отчетной документации: 40ч  
* с учетом рисков, включая настройку окружения, написание авто-тестов и отчетной документации: 50ч

## 5. План сдачи работ ##

Окончание работ по автоматизации:  01.06.2022  
Результаты прогона авто-тестов:  02.06.2022  
Отчет по автоматизации:  02.06.2022